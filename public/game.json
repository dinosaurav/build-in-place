{
  "activeScene": "level_1",
  "assets": {
    "example_model": {
      "type": "glb",
      "url": "https://models.readyplayer.me/64bfa15f0e72c63d7c3934a6.glb",
      "metadata": {
        "name": "Example Avatar",
        "description": "Sample 3D model for testing GLB loading"
      }
    }
  },
  "scenes": {
    "level_1": {
      "variables": {
        "score": 0,
        "coins_collected": 0
      },
      "nodes": [
        {
          "id": "sun",
          "type": "light",
          "position": [5, 10, 5],
          "intensity": 0.8
        },
        {
          "id": "floor",
          "type": "mesh",
          "primitive": "ground",
          "position": [0, 0, 0],
          "color": "#334433"
        },
        {
          "id": "coin_1",
          "type": "mesh",
          "primitive": "sphere",
          "position": [0, 0.7, 0],
          "color": "#ffd700",
          "size": 0.5,
          "components": [
            {
              "type": "clickable",
              "event": "coin.clicked"
            }
          ]
        },
        {
          "id": "coin_2",
          "type": "mesh",
          "primitive": "sphere",
          "position": [2, 0.7, 2],
          "color": "#ffd700",
          "size": 0.5,
          "components": [
            {
              "type": "clickable",
              "event": "coin.clicked"
            }
          ]
        },
        {
          "id": "coin_3",
          "type": "mesh",
          "primitive": "sphere",
          "position": [-2, 0.7, 2],
          "color": "#ffd700",
          "size": 0.5,
          "components": [
            {
              "type": "clickable",
              "event": "coin.clicked"
            }
          ]
        },
        {
          "id": "portal",
          "type": "mesh",
          "primitive": "box",
          "position": [0, 1, -3],
          "color": "#00ffff",
          "size": 1.5,
          "components": [
            {
              "type": "clickable",
              "event": "portal.clicked"
            }
          ]
        }
      ],
      "subscriptions": [
        {
          "id": "collect_coin",
          "on": "coin.clicked",
          "actions": [
            {
              "type": "increment",
              "target": "score",
              "value": 10
            },
            {
              "type": "increment",
              "target": "coins_collected",
              "value": 1
            },
            {
              "type": "destroy_node",
              "target": "$event.node"
            }
          ]
        },
        {
          "id": "use_portal",
          "on": "portal.clicked",
          "actions": [
            {
              "type": "transition_scene",
              "to": "level_2",
              "persistVars": ["score"]
            }
          ]
        }
      ]
    },
    "level_2": {
      "variables": {
        "score": 0,
        "enemies_defeated": 0
      },
      "nodes": [
        {
          "id": "sun",
          "type": "light",
          "position": [5, 10, 5],
          "intensity": 0.6
        },
        {
          "id": "floor",
          "type": "mesh",
          "primitive": "ground",
          "position": [0, 0, 0],
          "color": "#442222"
        },
        {
          "id": "enemy_1",
          "type": "mesh",
          "primitive": "box",
          "position": [2, 0.5, 0],
          "color": "#ff4444",
          "size": 1,
          "components": [
            {
              "type": "clickable",
              "event": "enemy.defeated"
            }
          ]
        },
        {
          "id": "enemy_2",
          "type": "mesh",
          "primitive": "box",
          "position": [-2, 0.5, 0],
          "color": "#ff4444",
          "size": 1,
          "components": [
            {
              "type": "clickable",
              "event": "enemy.defeated"
            }
          ]
        },
        {
          "id": "boss_portal",
          "type": "mesh",
          "primitive": "sphere",
          "position": [0, 1.5, -3],
          "color": "#ff00ff",
          "size": 1.2,
          "components": [
            {
              "type": "clickable",
              "event": "boss_portal.clicked"
            }
          ]
        },
        {
          "id": "return_portal",
          "type": "mesh",
          "primitive": "sphere",
          "position": [0, 0.5, 3],
          "color": "#00ff00",
          "size": 0.8,
          "components": [
            {
              "type": "clickable",
              "event": "return.clicked"
            }
          ]
        }
      ],
      "subscriptions": [
        {
          "id": "defeat_enemy",
          "on": "enemy.defeated",
          "actions": [
            {
              "type": "increment",
              "target": "score",
              "value": 25
            },
            {
              "type": "increment",
              "target": "enemies_defeated",
              "value": 1
            },
            {
              "type": "destroy_node",
              "target": "$event.node"
            }
          ]
        },
        {
          "id": "enter_boss_room",
          "on": "boss_portal.clicked",
          "actions": [
            {
              "type": "transition_scene",
              "to": "boss_room",
              "persistVars": ["score"]
            }
          ]
        },
        {
          "id": "return_to_level_1",
          "on": "return.clicked",
          "actions": [
            {
              "type": "transition_scene",
              "to": "level_1",
              "persistVars": ["score"]
            }
          ]
        }
      ]
    },
    "boss_room": {
      "variables": {
        "score": 0,
        "boss_health": 3
      },
      "nodes": [
        {
          "id": "dramatic_light",
          "type": "light",
          "position": [0, 15, 0],
          "intensity": 1.2
        },
        {
          "id": "floor",
          "type": "mesh",
          "primitive": "ground",
          "position": [0, 0, 0],
          "color": "#220022"
        },
        {
          "id": "boss",
          "type": "mesh",
          "primitive": "sphere",
          "position": [0, 2, -2],
          "color": "#ff0000",
          "size": 2,
          "components": [
            {
              "type": "clickable",
              "event": "boss.hit"
            }
          ]
        },
        {
          "id": "victory_portal",
          "type": "mesh",
          "primitive": "sphere",
          "position": [0, 1, 0],
          "color": "#ffff00",
          "size": 1.5,
          "components": [
            {
              "type": "clickable",
              "event": "victory.claimed"
            }
          ]
        }
      ],
      "subscriptions": [
        {
          "id": "hit_boss",
          "on": "boss.hit",
          "actions": [
            {
              "type": "increment",
              "target": "score",
              "value": 50
            },
            {
              "type": "increment",
              "target": "boss_health",
              "value": -1
            }
          ]
        },
        {
          "id": "claim_victory",
          "on": "victory.claimed",
          "actions": [
            {
              "type": "increment",
              "target": "score",
              "value": 100
            },
            {
              "type": "transition_scene",
              "to": "level_1",
              "persistVars": ["score"]
            }
          ]
        }
      ]
    }
  }
}
